/*
 * CreateModule (jquery.modulecreator.js) 1.3.0 | MIT & BSD
 */
"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}!function(b){b.CreateModule=function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},p=function(){function u(){_classCallCheck(this,u)}return _createClass(u,null,[{key:"run",value:function(){u.props=c,u.extendProps(),u.makeLib()}},{key:"getLibName",value:function(e){return e.substr(0,1).toLowerCase()+e.substr(1)}},{key:"makeLib",value:function(){b[d]=b[d]||(b.fn[d]=function(){var e=this;"function"==typeof e&&(e=b[d].element||b("<div>"),b[d].element=e);for(var t=arguments[0],r=Array.prototype.slice.call(arguments,1),n=e,o=0;o<e.length;o++)if("object"==_typeof(t)||void 0===t){var a=new i(e[o],t);a.list[a.hash]=a}else n=e[o][d][t].apply(e[o][d],r)||e;return n}),b[d].struct=c}},{key:"extendProps",value:function(){if(c.extends&&0<c.extends.length){u.parents={},u.parent={};var e=c.extends.map(function(e){e=u.getLibName(e);var t=b[e].struct;return u.parents[e]=t.privateMethods,t});u.parentMethods=u.extend.apply(u,[{}].concat(_toConsumableArray(e))).privateMethods,c.parents=u.parents,c=u.extend.apply(u,[{}].concat(_toConsumableArray(e),[c]))}}},{key:"extend",value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=0;t<(arguments.length<=1?0:arguments.length-1);t++){var r=t+1<1||arguments.length<=t+1?void 0:arguments[t+1];for(var n in r){var o=r[n];if("function"==typeof o)e[n]=o;else if(Array.isArray(o)){var a=o.slice();e[n]=a}else if("object"===_typeof(o)){var i={};i=Array.isArray(e[n])?u.extend({},o):"object"===_typeof(e[n])?u.extend(e[n],o):u.extend({},o),e[n]=i}else e[n]=o}}return e}},{key:"deepCopy",value:function(e){if("function"==typeof e)return e;if(Array.isArray(e)){for(var t=e.slice(),r=0;r<t.length;r++)t[r]=u.deepCopy(t[r]);return t}if("object"!==_typeof(e))return e;var n=u.extend({},e);for(var o in n)n[o]=u.deepCopy(n[o]);return n}}]),u}(),h=c.name,d=p.getLibName(h),y={},v={};p.run();var i=function(){function f(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,f);var a=this;if(Object.defineProperty(a,"storage",{get:function(){return v},set:function(e){throw new Error('Setting the value to "'+e+'" failed. Object "storage" is not editable')}}),Object.defineProperty(a,"list",{get:function(){return y},set:function(e){throw new Error('Setting the value to "'+e+'" failed. Object "list" is not editable')}}),a.element=b(e),1<a.element.length)a.element.each(function(e,t){new b[h](t,r)});else{e=a.element.get(0),a.hash=e.hash=Math.round(new Date*Math.random());var t=a._extend({},c.data||{},r.data||{});Object.defineProperty(a,"data",{get:function(){return t}});var n=a._extend({},c.options||{},r.options||{},{hash:a.hash});Object.defineProperty(a,"options",{get:function(){return n}});var o=a._extend({},c.hooks,r.hooks);Object.defineProperty(a,"hook",{get:function(){return function(e){if(o[e]){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return o[e].apply(a,r)}}}}),p.extend(a.__proto__,p.parentMethods),Object.defineProperty(a,"super",{get:function(){return function(e,t){for(var r=arguments.length,n=new Array(2<r?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];if(void 0!==c.parents[e]){if(c.parents[e][t])return c.parents[e][t].apply(this,n)}else if(this.__proto__[e])return a.__proto__[e].apply(this,[t].concat(n))}}}),a.hook("beforeCreate");var i={};if(c.privateMethods)for(var u in c.privateMethods){if("_"!==u[0])throw new Error('The name of the private method must begin with "_". Rename the method '+u);a[u]=i[u]=c.privateMethods[u].bind(a)}if(e[d]={data:a.data,getStruct:function(){return a._getStruct()},destroy:function(){a._destroy()}},c.publicMethods)for(var s in c.publicMethods){var l={};if(Object.defineProperty(l,"inst",{get:function(){return e[d]}}),Object.defineProperty(l,"private",{get:function(){return i},set:function(e){throw new Error('Setting the value to "'+e+'" failed. Object "private" is not editable')}}),e[d][s]=c.publicMethods[s].bind(l),a[s])throw new Error("The "+s+" method is already defined in a private scope!");if("_"===s[0])throw new Error('The public method should not start with "_". Rename the method '+s)}a.hook("create"),a.hook("bindEvent"),a.hook("afterCreate")}}return _createClass(f,[{key:"_getEventList",value:function(){return{click:"touchstart",mousedown:"touchstart",mouseup:"touchend"}}},{key:"_getEventName",value:function(e,t){return t=(t?"."+t:"")+"."+this.hash,/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(this._getEventList()[e]||e)+t:e+t}},{key:"_destroy",value:function(){var e=this.element.get(0);delete this.list[this.hash],delete e.hash,delete e[d]}},{key:"_extend",value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return p.extend.apply(p,[e].concat(r))}},{key:"_deepCopy",value:function(e){return p.deepCopy(e)}}]),f}()}}(jQuery);
/*
 * CreateModule (jquery.modulecreator.js) 1.3.0 | MIT & BSD
 */
"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}!function(m){m.CreateModule=function(){var p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},y=p.name,v=function(e){return e.substr(0,1).toLowerCase()+e.substr(1)},_=v(y),b={},g={},a=function(){function d(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,d);var o=this;if((o.struct=p).extends&&0<p.extends.length)for(var t in p.extends){var n=p.extends[t],i=m[v(n)]()[v(n)]("getStruct");o._extend(o.__proto__,i.privateMethods),o.struct=o._extend({},i,p),p=o.struct}if(Object.defineProperty(o,"storage",{get:function(){return g},set:function(e){throw new Error('Setting the value to "'+e+'" failed. Object "storage" is not editable')}}),Object.defineProperty(o,"list",{get:function(){return b},set:function(e){throw new Error('Setting the value to "'+e+'" failed. Object "list" is not editable')}}),o.element=m(e),1<o.element.length)o.element.each(function(e,t){new m[y](t,r)});else{e=o.element.get(0),o.hash=e.hash=Math.round(new Date*Math.random());var a=o._extend({},p.data||{},r.data||{});Object.defineProperty(o,"data",{get:function(){return a}});var s=o._extend({},p.options||{},r.options||{},{hash:o.hash});Object.defineProperty(o,"options",{get:function(){return s}});var u=o._extend({},p.hooks,r.hooks);Object.defineProperty(o,"hook",{get:function(){return function(e){if(u[e]){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return u[e].apply(o,r)}}}}),Object.defineProperty(o,"super",{get:function(){return function(e){if(this.__proto__[e]){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return o.__proto__[e].apply(this,r)}}}}),o.hook("beforeCreate");var f={};if(p.privateMethods)for(var c in p.privateMethods){if("_"!==c[0])throw new Error('The name of the private method must begin with "_". Rename the method '+c);o[c]=f[c]=p.privateMethods[c].bind(o)}if(e[_]={data:o.data,getStruct:function(){return o._getStruct()},destroy:function(){o._destroy()}},p.publicMethods)for(var h in p.publicMethods){var l={};if(Object.defineProperty(l,"inst",{get:function(){return e[_]}}),Object.defineProperty(l,"private",{get:function(){return f},set:function(e){throw new Error('Setting the value to "'+e+'" failed. Object "private" is not editable')}}),e[_][h]=p.publicMethods[h].bind(l),o[h])throw new Error("The "+h+" method is already defined in a private scope!");if("_"===h[0])throw new Error('The public method should not start with "_". Rename the method '+h)}o.hook("create"),o.hook("bindEvent"),o.hook("afterCreate")}}return _createClass(d,[{key:"_getEventList",value:function(){return{click:"touchstart",mousedown:"touchstart",mouseup:"touchend"}}},{key:"_getEventName",value:function(e,t){return t=(t?"."+t:"")+"."+this.hash,/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(this._getEventList()[e]||e)+t:e+t}},{key:"_destroy",value:function(){var e=this.element.get(0);delete this.list[this.hash],delete e.hash,delete e[_]}},{key:"_extend",value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=0;t<(arguments.length<=1?0:arguments.length-1);t++){var r=t+1<1||arguments.length<=t+1?void 0:arguments[t+1];for(var n in r){var o=r[n];if("function"==typeof o)e[n]=o;else if(Array.isArray(o)){var i=o.slice();e[n]=i}else if("object"===_typeof(o)){var a={};a=Array.isArray(e[n])?this._extend({},o):"object"===_typeof(e[n])?this._extend(e[n],o):this._extend({},o),e[n]=a}else e[n]=o}}return e}},{key:"_deepCopy",value:function(e){if("function"==typeof e)return e;if(Array.isArray(e)){for(var t=e.slice(),r=0;r<t.length;r++)t[r]=this._deepCopy(t[r]);return t}if("object"!==_typeof(e))return e;var n=this._extend({},e);for(var o in n)n[o]=this._deepCopy(n[o]);return n}},{key:"_getStruct",value:function(){return this._deepCopy(this.struct)}}]),d}();m[_]=m[_]||(m.fn[_]=function(){var e=this;"function"==typeof e&&(e=m[_].element||m("<div>"),m[_].element=e);for(var t=arguments[0],r=Array.prototype.slice.call(arguments,1),n=e,o=0;o<e.length;o++)if("object"==_typeof(t)||void 0===t){var i=new a(e[o],t);i.list[i.hash]=i}else n=e[o][_][t].apply(e[o][_],r)||e;return n})}}(jQuery);